---
# Backend Service Account with GKE Workload Identity
apiVersion: v1
kind: ServiceAccount
metadata:
  name: eleanor-backend
  namespace: eleanor
  annotations:
    # Workload Identity annotation
    iam.gke.io/gcp-service-account: eleanor-backend@${PROJECT_ID}.iam.gserviceaccount.com

---
# Celery Worker Service Account with Workload Identity
apiVersion: v1
kind: ServiceAccount
metadata:
  name: eleanor-celery
  namespace: eleanor
  annotations:
    iam.gke.io/gcp-service-account: eleanor-celery@${PROJECT_ID}.iam.gserviceaccount.com

---
# External Secrets Service Account (for Secret Manager integration)
apiVersion: v1
kind: ServiceAccount
metadata:
  name: external-secrets
  namespace: eleanor
  annotations:
    iam.gke.io/gcp-service-account: eleanor-secrets@${PROJECT_ID}.iam.gserviceaccount.com
