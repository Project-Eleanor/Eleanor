# Eleanor Configuration
# Copy this file to .env and modify values as needed

# =============================================================================
# Database
# =============================================================================
POSTGRES_PASSWORD=change_this_secure_password
DATABASE_URL=postgresql://eleanor:${POSTGRES_PASSWORD}@localhost:5432/eleanor

# =============================================================================
# Elasticsearch
# =============================================================================
ELASTICSEARCH_URL=http://localhost:9200

# =============================================================================
# Redis
# =============================================================================
REDIS_URL=redis://localhost:6379

# =============================================================================
# Security
# =============================================================================
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=change_this_to_a_secure_random_string

# JWT settings
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=60

# =============================================================================
# Authentication Providers
# =============================================================================

# OIDC (Azure AD, Okta, Keycloak, etc.)
OIDC_ENABLED=false
OIDC_ISSUER=https://login.microsoftonline.com/{tenant}/v2.0
OIDC_CLIENT_ID=
OIDC_CLIENT_SECRET=
OIDC_REDIRECT_URI=http://localhost:4200/auth/callback

# LDAP / Active Directory
LDAP_ENABLED=false
LDAP_SERVER=ldap://dc.example.com
LDAP_BASE_DN=DC=example,DC=com
LDAP_BIND_DN=CN=svc_eleanor,OU=Service,DC=example,DC=com
LDAP_BIND_PASSWORD=
LDAP_USER_FILTER=(sAMAccountName={username})
LDAP_GROUP_FILTER=(member={user_dn})

# Local Accounts (SAM)
SAM_ENABLED=true
SAM_ALLOW_REGISTRATION=false

# =============================================================================
# Application
# =============================================================================
DEBUG=false
LOG_LEVEL=INFO
CORS_ORIGINS=http://localhost:4200,http://localhost:8000

# Evidence storage path
EVIDENCE_PATH=/app/evidence

# =============================================================================
# Email (for notifications)
# =============================================================================
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=eleanor@example.com

# =============================================================================
# Integrations
# =============================================================================

# Velociraptor - Endpoint Collection
VELOCIRAPTOR_ENABLED=false
VELOCIRAPTOR_URL=https://localhost:8003
VELOCIRAPTOR_API_KEY=
VELOCIRAPTOR_VERIFY_SSL=true
VELOCIRAPTOR_CLIENT_CERT=
VELOCIRAPTOR_CLIENT_KEY=

# IRIS - Case Management
IRIS_ENABLED=false
IRIS_URL=https://localhost:8443
IRIS_API_KEY=
IRIS_VERIFY_SSL=false

# OpenCTI - Threat Intelligence
OPENCTI_ENABLED=false
OPENCTI_URL=http://localhost:8080
OPENCTI_API_KEY=
OPENCTI_VERIFY_SSL=true

# Shuffle - SOAR / Workflow Automation
SHUFFLE_ENABLED=false
SHUFFLE_URL=http://localhost:3001
SHUFFLE_API_KEY=
SHUFFLE_VERIFY_SSL=true

# Timesketch - Timeline Analysis
TIMESKETCH_ENABLED=false
TIMESKETCH_URL=http://localhost:5000
TIMESKETCH_API_KEY=
TIMESKETCH_VERIFY_SSL=true
TIMESKETCH_USERNAME=
TIMESKETCH_PASSWORD=

# =============================================================================
# Integrated Tools (for docker-compose.tools.yml)
# =============================================================================

# IRIS
IRIS_DB_PASSWORD=iris_secure_password
IRIS_SECRET_KEY=iris_secret_key_change_in_production
IRIS_PASSWORD_SALT=iris_salt_change_in_production
IRIS_ADMIN_PASSWORD=iris_admin_password

# OpenCTI
OPENCTI_BASE_URL=http://localhost:8080
OPENCTI_ADMIN_EMAIL=admin@eleanor.local
OPENCTI_ADMIN_PASSWORD=opencti_admin_password
OPENCTI_ADMIN_TOKEN=00000000-0000-0000-0000-000000000001
OPENCTI_MINIO_USER=opencti_minio_user
OPENCTI_MINIO_PASSWORD=opencti_minio_password
OPENCTI_RABBITMQ_USER=opencti_rabbitmq
OPENCTI_RABBITMQ_PASSWORD=opencti_rabbitmq_password

# Shuffle
SHUFFLE_ADMIN_USER=admin
SHUFFLE_ADMIN_PASSWORD=shuffle_admin_password
SHUFFLE_API_KEY=00000000-0000-0000-0000-000000000002

# Timesketch
TIMESKETCH_USER=admin
TIMESKETCH_PASSWORD=timesketch_admin_password
TIMESKETCH_DB_PASSWORD=timesketch_db_password
TIMESKETCH_SECRET_KEY=timesketch_secret_key_change_me
